extends ../navbar

block content
  .view-dialog-container
    .view-dialog
      .view-dialog-header
      .view-dialog-content
        .row.mb-4
          .col-12
            h1.text-center.mb-0(style="font-size: 1.8rem; font-weight: 600; color: #2e3338;")
              i.fas.fa-user-circle.me-2(style="color: #4e73df;")
              | Employee Details
        hr(style="border: none; border-top: 1px solid #e3e6f0; margin: 2rem 0;")
        .view-detail-section
          h6.view-section-title
            i.fas.fa-user.me-2
            | Personal Information
          .view-detail-row
            .view-detail-item
              .view-detail-label
                i.fas.fa-user
                | Full Name
              .view-detail-value= `${employee.first_name} ${employee.last_name}`
            .view-detail-item
              .view-detail-label
                i.fas.fa-envelope
                | Email
              .view-detail-value= employee.email || 'N/A'
          .view-detail-row
            .view-detail-item
              .view-detail-label
                i.fas.fa-phone
                | Phone
              .view-detail-value= employee.phone || 'N/A'
            .view-detail-item
              .view-detail-label
                i.fas.fa-id-card
                | Employee ID
              .view-detail-value= employee.employee_id || 'N/A'
        .view-detail-section
          h6.view-section-title
            i.fas.fa-briefcase.me-2
            | Job Information
          .view-detail-row
            .view-detail-item
              .view-detail-label
                i.fas.fa-briefcase
                | Position
              .view-detail-value= employee.position || 'N/A'
            .view-detail-item
              .view-detail-label
                i.fas.fa-building
                | Department
              .view-detail-value= employee.department || 'N/A'
          .view-detail-row
            .view-detail-item
              .view-detail-label
                i.fas.fa-calendar-alt
                | Hire Date
              .view-detail-value= employee.hire_date ? new Date(employee.hire_date).toLocaleDateString('en-IN', { year: 'numeric', month: '2-digit', day: '2-digit' }) : 'N/A'
            .view-detail-item
              .view-detail-label
                i.fas.fa-map-marker-alt
                | Branch
              .view-detail-value= employee.branch || 'N/A'
            .view-detail-item
              .view-detail-label
                i.fas.fa-info-circle
                | Status
              .view-detail-value
                span.badge(class=employee.status === 'active' ? 'bg-success' : 'bg-secondary' style="font-size: 0.85rem; padding: 0.4rem 0.75rem;")
                  | #{employee.status ? employee.status.charAt(0).toUpperCase() + employee.status.slice(1) : 'N/A'}
        if employee.notes && employee.notes.trim()
          .view-detail-section
            .view-notes-section
              h6.view-notes-title
                i.fas.fa-sticky-note
                | Additional Notes
              .view-notes-content= employee.notes
      .view-dialog-footer
        a.view-action-btn.view-action-btn-primary(href='/employee/#{employee.id}/form')
          i.fas.fa-edit
          | Edit Employee
        button.view-action-btn.view-action-btn-danger(
          type='button'
          onclick='if(confirm("Are you sure you want to delete #{employee.first_name} #{employee.last_name}?")) { const form = document.createElement("form"); form.method = "POST"; form.action = "/employee/#{employee.id}?_method=DELETE"; document.body.appendChild(form); form.submit(); }'
        )
          i.fas.fa-trash
          | Delete Employee
        a.view-action-btn.view-action-btn-secondary(href='/employee')
          i.fas.fa-list
          | Back to List